 <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8">
    <title>Спортивные карты: ориентирование и рогейн</title>
    <meta name="description" content="Карты? Найдутся все! Описание сайта.">
    <link rel="icon" type="image/png" href="../favicon.png"/>
    <link href='../css/google-fonts.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/main.css"/>

    <meta property="og:title" content="Спортивные карты Санкт-Петербурга и Москвы. Описание сайта.">
    <meta property="og:site_name" content="Спортивные карты. Описание сайта.">
    <meta property="og:url" content="https://o-maps.spb.ru/">
    <meta property="og:description" content="Карты? Найдутся все! Описание сайта.">
    <meta property="og:image" content="https://o-maps.spb.ru/o-maps-preview.jpg">

    <script src="../js/ext/jquery.slim.min.js"></script>
    <script src="../js/ext/bootstrap.min.js"></script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(99914151, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/99914151" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</head>
<body class="index-body help-body">
    <header class="main-header">
        <h1><a href="../index.html">O-maps</a> ◪ <a href="help.html">Справка</a></h1>
    </header>

    <main>
        <div class="container">

            <section>
                <nav>
                    <h2>Карты на карте</h2>
                    <ul>
                        <li><a href="#map_base">Подложка</a></li>
                        <li><a href="#layers">Слои карт</a></li>
                        <li><a href="#map_info">Всплывающее окошко информации о карте</a></li>
                        <li><a href="#page_controls">Элементы управления</a></li>
                            <ol>
                                <li><a href="#site_navigation">Навигация по сайту</a></li>
                                <li><a href="#placement_zooming">Местоположение и масштаб</a></li>
                                <li><a href="#info_resources">Информационные ресурсы</a></li>
                                <li><a href="#measurement_tools">Инструменты измерения</a></li>
                                <li><a href="#search_tool">Поиск</a></li>
                                <li><a href="#other_tools">Прочее</a></li>
                            </ol>
                        <li><a href="#context_menu">Всплывающее (контекстное) меню</a></li>
                        <li><a href="#page_query">Параметры запуска</a></li>
                    </ul>
                </nav>
            </section>

            <section class="clearfix">
                <p><img src="img/maps_on_map.webp" class="help-figure help-figure-left" /> Каждый из разделов с картами
                    (<a href="../spb.html">Санкт-Петербург</a>, <a href="../moscow.html">Москва</a>, <a href="../serbia.html">Белград</a> и <a href="../all.html">все регионы вместе</a>)
                    представляет из себя картографическую подложку с "привязанными" к ней изображениями спортивных карт.
                    Щелчком мыши по любой карте можно вызвать появление всплывающего окна с подробной информацией о ней.
                <p>Все карты организованы в группы (слои) по типу и по году издания. Все такие слои можно включать/выключать независимо друг от друга.
                <p>Помимо собственно карт на экране расположено множество разнообразных элементов управления - кнопки, списки выбора, ссылки и пр.
                <p>В левой нижней части экрана расположен счётчик показываемых карт.
            </section>

            <section>
                <h3 id="map_base">Подложка</h3>
                <p><img src="img/map_base.webp" class="help-figure help-figure-right" /> Самый "нижний" слой на экране - это картографическая подложка. Для неё могут использоваться различные источники:
                    <ul>
                        <li>Open Street Map (OSM)</li>
                        <li>Open Topo Map (OSM)</li>
                        <li>Яндекс карты (Схема)</li>
                        <li>Яндекс карты (Спутник)</li>
                    </ul>
                    Источник данных подложки можно выбрать с помощью переключателя в правой верхней части экрана.
                </p>
            </section>

            <section>
                <h3 id="layers">Слои карт</h3>
                <p><img src="img/layers.webp" class="help-figure help-figure-left" /> Спортивные карты по типу бывают:
                    <ul class="fugure-ul">
                        <li>Городские (CITY)</li>
                        <li>Парковые (PARK)</li>
                        <li>Лесные</li>
                        <li>Специальные</li>
                    </ul>
                    Специальные - это объединённый слой для зимних (WINTER), велосипедных (VELO) и гидро-рельефных карт (RELIEF).
                    Кроме них есть ещё два слоя:
                    <ul class="fugure-ul">
                        <li>Рогейн (ROGAINE)</li>
                        <li>Необычные (FUN)</li>
                    </ul>
                    Необычные карты - это разнообразные планы, схемы, фото-квесты и пр.
                </p>
                <p>Спортивные карты по году издания делятся на десятилетия:
                    <ul>
                        <li>2020-е</li>
                        <li>2010-е</li>
                        <li>2000-е</li>
                        <li>90-е</li>
                        <li>Ретро</li>
                        <li>???</li>
                    </ul>
                    Ретро - это все карты более старые, чем 1990 г. В слой "???" попадают карты, год издания которых неизвестен.
                </p>
                <p>Слои (типы) карт можно включать/выключать независимо друг от друга с помощью галочек (чекбоксов) в правой части экрана.
            </section>

            <section>
                <h3 id="map_info">Всплывающее окошко информации о карте</h3>
                <p><img src="img/map_info.webp" class="help-figure help-figure-right" /> Каталог может хранить множество разной информации о каждой карте:
                    <ul>
                        <li>Название</li>
                        <li>Год</li>
                        <li>Координаты углов карты для "привязки"</li>
                        <li>Имя файла для предварительного просмотра</li>
                        <li>Имена файлов изображений карты в высоком (ну или в не очень высоком) качестве</li>
                        <li>Список авторов</li>
                        <li>Список владельцев</li>
                        <li>Список типов (слоёв)</li>
                        <li>Указание на многодневку или серию соревнований</li>
                        <li>Ссылка на GPS-трансляцию</li>
                        <li>Логотип</li>
                        <li>Любая дополнительная информация</li>
                    </ul>
                </p>
                <p>Помимо всего перечисленного, во всплывающем окошке информации о карте показывается следующие элементы:
                    <ul>
                        <li>Площадь карты</li>
                        <li>Ссылка на карту</li>
                        <li>Ссылка на страничку информации о карте</li>
                        <li>Кнопка "Скрыть эту карту"</li>
                    </ul>
                    <p>Площадь карты может быть или заранее прописана в каталоге, или вычислена "на лету". Вычисление
                        происходит на основе координат углов карты.
                        Поскольку у нас нет никакой информации о том, какую часть листа бумаги занимает собственно карта,
                        то используется такое условное правило - (площадь листа * 70%).</p>
                    <p>"Ссылка на карту" - это ссылка на O-maps, который будет открыт именно на этой карте.
                    <p>Страничка информации о карте во многом дублирует это окошко информации, разве что в другом дизайне.
                        Но у неё есть постоянный адрес, который можно кому-то послать или где-то упомянуть, если это вдруг будет нужно.
                        Найти её можно на "скрепке" справа от названия и площади карты.
                    <p>Кнопка "Скрыть эту карту" может быть очень полезна, когда в одном месте расположено множество карт,
                        перекрывающихся друг с другом. Т.о. можно добраться до самых "глубоко закопанных" карт.
            </section>

            <section>
                <h3 id="page_controls">Элементы управления</h3>
                <p><img src="img/all_controls.png" class="help-figure" /></p>
            </section>

            <section>
                <h4 id="site_navigation">Навигация по сайту</h4>
                <p class="clearfix"><img src="img/region_selector.png" class="help-figure help-figure-left" /> <img src="img/home.png" class="help-figure help-figure-right" />
                    Для перехода на начальную страницу, на страницы другого региона или на страницу стартов можно использовать всплывающее меню в верхней левой части экрана.
                    Для перехода на начальную страницу существует также отдельная кнопка - самая левая-верхняя.
                </p>
            </section>

            <section>
                <h4 id="placement_zooming">Местоположение и масштаб</h4>
                <p><img src="img/zooming.png" class="help-figure help-figure-left" /> Кнопка "Моё местоположение" сдвинет карту в то место, где Вы находитесь.
                    Но только, если определение местоположения разрешено в настройках Вашего браузера.</p>
                <p>Кнопки "+" и "-" ступенчато увеличивают и уменьшаю масштаб карты.</p>
                <p>Кнопка "Ограничить область" сдвинет карту и изменит масштаб в соответствии с выделенным районом.</p>
            </section>

            <section>
                <h4 id="info_resources">Информационные ресурсы</h4>
                <p class="clearfix"><img src="img/about.png" class="help-figure help-figure-left" /> Кнопка "О проекте" открывает окно с краткой информацией о проекте - его общее описание,
                    задачи, структура, способы поддержки. А также благодарности и обращения к авторам и владельцам карт.</p>
                <p class="clearfix"><img src="img/help.png" class="help-figure help-figure-left" /> Кнопка "Справка" переносит на страницу с этой документацией.</p>
                <p class="clearfix"><img src="img/statistics.png" class="help-figure help-figure-left" /> Кнопка "Немного статистики" ведёт на страницу статистики для текущего региона.</p>
                <p class="clearfix"><img src="img/sheet.png" class="help-figure help-figure-left" /> Кнопка "Сводная таблица карт" открывает соответствующую страницу для текущего региона.</p>
            </section>

            <section>
                <h4 id="measurement_tools">Инструменты измерения</h4>
                <p><img src="img/measurement.png" class="help-figure help-figure-left" /> Кнопка "Измерение расстояний" запускает инструмент позволяющий измерить длину дистанции
                    или любой ломаной линии на местности.</p>
                <p>Кнопка "Измеритель площади" позволяет измерить площадь произвольного участка местности с помощью инструмента, похожего на лассо.</p>
            </section>

            <section>
                <h4 id="search_tool">Поиск</h4>
                <p><img src="img/search.png" class="help-figure help-figure-left" /> Инструмент поиска позволяет быстро найти карту по её названию, имени файла,
                    году издания или даже по любому слову, встречающемуся в её описании.</p>
            </section>

            <section>
                <h4 id="other_tools">Прочее</h4>
                <p class="clearfix"><img src="img/gpx.png" class="help-figure help-figure-left" /> Инструмент "Просмотр GPX/KML/GeoJSON" даёт возможность наложить трек из файла соответствующего формата на карту.</p>
                <p class="clearfix"><img src="img/opacity.png" class="help-figure help-figure-left" /> Ползунок "Прозрачность карт" меняет её от 0 до 100%, оставляя подложку неизменной.</p>
                <p class="clearfix"><img src="img/counter.png" class="help-figure help-figure-left" /> Счётчик карт показывает число карт, поместившихся в экран и общее их количество.
                    Если эти два числа совпадают, то показывается только одно.</p>
                <p class="clearfix"><img src="img/compass.png" class="help-figure help-figure-left" height="75" /> Компас при правильно откалиброванном встроенном компасе телефона должен реально показывать на север.
                    Но не стоит относиться к нему слишком серьёзно.</p>
                <p class="clearfix"><img src="img/chat.png" class="help-figure help-figure-left" /> Большая кнопка "Группа поддержки" в правом-нижнем углу экрана открывает телеграм-чат проекта.
                    Там Вы можете узнать все связанные с ним новости и задать любые возникшие у Вас вопросы.</p>
            </section>

            <section>
                <h3 id="context_menu">Всплывающее (контекстное) меню</h3>
                <p><img src="img/context_menu.png" class="help-figure help-figure-left" /> Меню вызывается кликом правой кнопкой мыши по карте (или долгим "тапом" по ней на телефоне). <br /> Пункты меню:
                    <ul class="fugure-ul">
                        <li><b>"О проекте"</b> - <a href="#info_resources">окно</a> с краткой информацией о проекте.</li>
                        <li><b>"Координаты"</b> - копирует координаты точки появления меню в буфер обмена.</li>
                        <li><b>"Центр сюда"</b> - перемещает карту в точку появления меню.</li>
                        <li><b>"Показать все ориенты"</b> - включает слои всех типов спортивных карт.</li>
                        <li><b>"Убрать ориенты"</b> - выключает все слои спортивных карт.</li>
                        <li><b>"Показать все годы"</b> - включает все слои временнЫх интервалов (2020-е, 2010-е итд).</li>
                        <li><b>"Увеличить"</b> - <a href="#placement_zooming">приближает карту</a>.</li>
                        <li><b>"Уменьшить"</b> - <a href="#placement_zooming">удаляет карту</a>.</li>
                        <li><b>"Всплыв.подсказки"</b> - включает/выключает автоматический показ всплывающего окошка с информацией о карте при наведении курсора на неё.</li>
                        <li><b>"Скрывать карты"</b> - включает/выключает режим, при котором карты временно скрываются с экрана при перемещении подложки.
                                Иногда (когда на экране много карт) это заметно повышает производительность.</li>
                        <li><b>"Выделять полноразмеры"</b> - включает/выключает режим, при котором карты, у которых есть качественный джипег, выделяются специальным пунктирным обрамлением.</li>
                        <li><b>"Скрыть кнопки"/"Показать кнопки"</b> - выключает показ большинства элементов управления (кнопок) или возвращает их обратно.</li>
                        <li><b>"Редактирование"</b> - выключает/выключает режим редактирования (привязки карт).</li>
                    </ul>
                </p>
            </section>

            <section>
                <h3 id="page_query">Параметры запуска</h3>
                <p>Страницы с картами или со сводными таблицами карт любого из регионов
                    (<a href="../spb.html">СПб</a>, <a href="../moscow.html">Москва</a>, <a href="../serbia.html">Белград</a>, <a href="../all.html">все вместе</a>)
                    можно открыть в сециальном режиме путём добавления специальных параметров к адресу страницы. Ниже - таблица с описанием возможных параметров:</p>
                <table class="table table-striped table-hover">
                    <thead class="thead-dark">
                    <tr>
                        <th scope="col">Параметр</th>
                        <th scope="col">Описание</th>
                        <th scope="col">Пример использования</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <th scope="row">map</th>
                        <td>Параметр <i>map</i> в адресе указывает на конкретную карту. O-maps откроется с заданной картой в центре.</td>
                        <td><a href="https://o-maps.spb.ru/spb.html?map=petropavlovka_2024" target="_blank">https://o-maps.spb.ru/spb.html?map=petropavlovka_2024</a></td>
                    </tr>
                    <tr>
                        <th scope="row">onlymap</th>
                        <td>Параметр <i>onlymap</i> подобен предыдущему, но показана будет ТОЛЬКО выбранная карта. Все остальные не будут загружены.</td>
                        <td><a href="https://o-maps.spb.ru/spb.html?onlymap=petropavlovka_2024" target="_blank">https://o-maps.spb.ru/spb.html?onlymap=petropavlovka_2024</a></td>
                    </tr>
                    <tr>
                        <th scope="row">x, y, zoom</th>
                        <td>Параметры <i>x</i>, <i>y</i> и <i>zoom</i> задают центральную точку и степень приближения карты (9 - 16).</td>
                        <td><a href="https://o-maps.spb.ru/moscow.html?x=55.75163&y=37.61688&zoom=15" target="_blank">https://o-maps.spb.ru/moscow.html?x=55.75163&y=37.61688&zoom=15</a></td>
                    </tr>
                    <tr>
                        <th scope="row">no-buttons</th>
                        <td>Если присутствует параметр <i>no-buttons</i>, с карты будут убраны все "лишние" элементы управления.</td>
                        <td><a href="https://o-maps.spb.ru/spb.html?no-buttons" target="_blank">https://o-maps.spb.ru/spb.html?no-buttons</a></td>
                    </tr>
                    <tr>
                        <th scope="row">embedded</th>
                        <td>Это "усиленный" вариант предыдущего параметра. С карты будут убраны все элементы управления, кроме кнопок зуммирования. Он очень удобен при
                            <a href="../integration/integration1.html">интеграции карты O-maps на страницу стороннего сайта</a>. <br />
                            Дополнительный нюанс - в этом режиме в качестве подложки используются Яндекс-карты вместо OSM (т.к. OSM бывает заблокирован).</td>
                        <td><a href="https://o-maps.spb.ru/spb.html?embedded" target="_blank">https://o-maps.spb.ru/spb.html?embedded</a></td>
                    </tr>
                    <tr>
                        <th scope="row">author</th>
                        <td>Параметр <i>author</i> указывает, что будут загружены карты лишь одного указанного автора. Список всех авторов можно посмотреть
                            <a href="https://github.com/efradkin/o-maps/blob/main/js/authors.js" target="_blank">тут</a>.</td>
                        <td><a href="https://o-maps.spb.ru/all.html?author=TKMKV_K" target="_blank">https://o-maps.spb.ru/all.html?author=TKMKV_K</a></td>
                    </tr>
                    <tr>
                        <th scope="row">owner</th>
                        <td>Параметр <i>owner</i> указывает, что будут загружены карты лишь одного указанного правообладателя. Их полный список можно посмотреть
                            <a href="https://github.com/efradkin/o-maps/blob/main/js/owners.js" target="_blank">тут</a></td>
                        <td><a href="https://o-maps.spb.ru/moscow.html?owner=O_FRZNO" target="_blank">https://o-maps.spb.ru/moscow.html?owner=O_FRZNO</a></td>
                    </tr>
                    <tr>
                        <th scope="row">type</th>
                        <td>При наличии параметра <i>type</i> будут загружены карты лишь одного указанного типа (PARK, ROGAINE, SPRINT, CITY, RELIEF, WINTER, VELO, FUN).</td>
                        <td><a href="https://o-maps.spb.ru/sheet-serbia.html?type=PARK" target="_blank">https://o-maps.spb.ru/sheet-serbia.html?type=PARK</a></td>
                    </tr>
                    <tr>
                        <th scope="row">start</th>
                        <td>При наличии параметра <i>start</i> будут загружены карты лишь одной указанной многодневки (серии стартов). Список всех стартов можно посмотреть
                            <a href="https://github.com/efradkin/o-maps/blob/main/js/starts.js" target="_blank">тут</a>.</td>
                        <td><a href="https://o-maps.spb.ru/sheet-spb.html?start=KKP" target="_blank">https://o-maps.spb.ru/sheet-spb.html?start=KKP</a></td>
                    </tr>
                    <tr>
                        <th scope="row">only-wo-author</th>
                        <td>При наличии параметра <i>only-wo-author</i> будут загружены лишь те карты, автор-составитель которых неизвестен.</td>
                        <td><a href="https://o-maps.spb.ru/all.html?only-wo-author" target="_blank">https://o-maps.spb.ru/all.html?only-wo-author</a></td>
                    </tr>
                    </tbody>
                </table>
                <p>Практически все параметры можно комбинировать (использовать одновременно). Например, такой адрес
                    <a href="https://o-maps.spb.ru/all.html?author=TKMKV_K&x=59.99791&y=30.26149&zoom=13&type=PARK&embedded" target="_blank">https://o-maps.spb.ru/all.html?author=TKMKV_K&x=59.99791&y=30.26149&zoom=13&type=PARK&embedded</a>
                    соотвествует O-maps-странице всех регионов вместе, на которую будут загружены только парковые карты Константина Токмакова, причём указаны конкретные точка позиционирования и степень приближения,
                    а также включён режим embedded.
                </p>
            </section>
        </div>

        <noscript>
            <div id="noscript_content">
                Для корректной работы сайта необходимо включить JavaScript в настройках браузера.
            </div>
        </noscript>
    </main>

    <footer>
        <hr />
        <span class="my-copyright">© <a href="https://vk.com/fradkin" target="_blank">Фрадкин Евгений</a>, <a href="https://t.me/o_maps" target="_blank">O-maps group</a></span>
    </footer>
</body>
</html>
