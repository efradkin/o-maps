 <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.83">
    <title>o-Maps: Календарь СПб</title>
    <meta name="description" content="Календарь стартов Санкт-Петербурга.">
    <link rel="icon" type="image/png" href="favicon.png"/>
    <link href='./css/google-fonts.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/main.css?v=1"/>

    <meta property="og:title" content="o-Maps: Календарь СПб">
    <meta property="og:site_name" content="Спортивные карты: ориентирование и рогейн">
    <meta property="og:url" content="https://o-maps.spb.ru/">
    <meta property="og:description" content="Календарь стартов Санкт-Петербурга.">

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(99914151, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/99914151" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->

    <base target="_blank">
</head>
<body class="stat-body sheet-body calendar-body">
    <a href="spb.html" onclick="gotoMap('spb.html'); return false;" target="_self" class="stat-map-link stat-map-link-right" title="Карта">
        <img src="images/map_24.png" alt="Карта" />
    </a>
    <h4 style="float: right; margin-top: 1em;">На карте: </h4>

    <h1>
         <a href="./index.html" target="_self" title="Главная страница">O-maps ◪</a>

        <select class="header_selector" onchange="selectMapRegion(this.value, 'sheet')">
            <option value="index">Начальная страница</option>
            <option disabled>⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯</option>
            <option value="spb">Санкт-Петербург</option>
            <option value="msk">Москва</option>
            <option value="rzn">Рязань</option>
            <option value="smr">Самара</option>
            <option value="bash">Башкортостан</option>
            <option value="srb">Белград</option>
            <option value="all">Все регионы вместе</option>
            <option disabled>⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯</option>
            <option value="docs">Исторические документы</option>
            <option value="tracks">Маршруты</option>
            <option value="calendar" selected>Календарь стартов</option>
        </select>

        <select id="event_type_selector" class="header_selector" onchange="selectEventType(this.value)">
            <option value="ALL">все старты</option>
            <option value="ORIENT">Ориент</option>
            <option value="ROGAINE">Рогейн итп</option>
            <option value="SKI">Лыжи</option>
            <option value="VELO">Вело</option>
            <option value="OTHER">Прочее</option>
            <option disabled>⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯</option>
            <option value="actual">Текущие</option>
            <option value="future">Будущие</option>
        </select>

<!--
        <label for="event_month_selector">Месяц:</label>
        <select id="event_month_selector" class="header_selector" onchange="selectEventMonth(this.value)">
            <option value="0">все</option>
            <option value="1">Январь</option>
            <option value="2">Февраль</option>
            <option value="3">Март</option>
            <option value="4">Апрель</option>
            <option value="5">Май</option>
            <option value="6">Июнь</option>
            <option value="7">Июль</option>
            <option value="8">Август</option>
            <option value="9">Сентябрь</option>
            <option value="10">Октябрь</option>
            <option value="11">Ноябрь</option>
            <option value="12">Декабрь</option>
        </select>
-->
    </h1>
    <h2>
        Календарь стартов СПб

        <sup class="header_checkbox_container">
            <input type="checkbox" id="only-major" name="only-major" onclick="switchRus(this.checked);" />
            <label for="only-major">только важные</label>
        </sup>

        <sup class="header_checkbox_container">
            <input type="checkbox" id="only-my" name="only-my" onclick="switchMy(this.checked);" />
            <label for="only-my">только мои</label>
            <a href="#" id="edit-my-button" onclick="editMy(); return false" title="Правка своих" style="display: none">✏️</a>
            <a href="#" id="edit-my-done-button" onclick="myEditDone(); return false" title="Готово" style="display: none">✔️</a>
        </sup>
    </h2>

    <div class="o-sheet-roof">
        <a href="#" onclick="downloadSheetTable('o-maps-calendar.csv')" target="_self" title="Скачать таблицу"><img src="images/download_24.png" /></a>
    </div>
    <div class="o-sheet-wrapper">
        <table class="o-main-table o-sheet">
            <thead>
            <tr>
                <th>&nbsp</th>
                <th data-sort="date" class="sortable" data-order="desc">Дата</th>
                <th data-sort="name" class="sortable">Старт, регистрация</th>
                <th data-sort="place" class="sortable">Место</th>
                <th>Вид спорта / формат</th>
                <th>Результаты</th>
                <th>Трансляции</th>
                <th>Прочее</th>
            </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <script src="js/ext/jquery.slim.min.js"></script>

    <script src="js/calendar-2025.js"></script>
    <script src="js/calendar-2026.js"></script>
    <script src="js/calendar-common-2026.js"></script>
    <script src="js/calendar-other-2026.js"></script>

    <script src="js/maps-starts-schools.js"></script>
    <script src="js/maps-city.js"></script>
    <script src="js/maps-parks.js"></script>
    <script src="js/maps-forest.js"></script>
    <script src="js/maps-forest-vsevolozhsk.js"></script>
    <script src="js/maps-forest-south.js"></script>
    <script src="js/maps-forest-priozersk.js"></script>
    <script src="js/maps-forest-zelik.js"></script>
    <script src="js/maps-forest-toksovo.js"></script>
    <script src="js/maps-forest-sosnovo.js"></script>
    <script src="js/maps-forest-michura.js"></script>
    <script src="js/maps-forest-vaskelovo.js"></script>
    <script src="js/maps-forest-vyborg.js"></script>
    <script src="js/maps-special.js"></script>
    <script src="js/maps-fun.js"></script>
    <script src="js/maps-rogaine.js"></script>
    <script src="js/maps-rogaine-beketov.js"></script>
    <script src="js/maps-rogaine-kkm.js"></script>
    <script src="js/maps-rogaine-rfar.js"></script>

    <script src="js/planners.js"></script>
    <script src="js/owners.js"></script>
    <script src="js/starts.js"></script>
    <script src="js/welcome.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/utils-common.js"></script>

    <script>
        let loadImagesRequired = false;
        let mapsOnStore = false;
        let documentsPage = true;
        let currentSort = 'date';
        const REGION_KEY = 'spb';

        let oMaps = [
            ...rogaineRfarMaps,
            ...rogaineBeketovMaps,
            ...rogaineKkmMaps,
            ...rogaineMaps,
            ...funMaps,
            ...specialMaps,
            ...forestMaps,
            ...vsevolozhskMaps,
            ...southMaps,
            ...priozerskMaps,
            ...zelikMaps,
            ...vyborgMaps,
            ...sosnovoMaps,
            ...michuraMaps,
            ...vaskelovoMaps,
            ...toksovoMaps,
            ...parkMaps,
            ...cityMaps,
            ...schoolMaps,
        ];

        let oEvents = [
            ...events2025,
            ...events2026,
            ...commonEvents2026,
            ...otherEvents2026,
        ];
    </script>
    <script src="js/calendar.js"></script>
</body>
</html>
