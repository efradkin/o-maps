 <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8">
    <title>Памяти Константина Токмакова</title>
    <meta name="description" content="Страница памяти Константина Токмакова.">
    <link rel="icon" type="image/png" href="favicon.png"/>
    <link href='./css/google-fonts.css' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/main.css"/>

    <meta property="og:title" content="Памяти Константина Токмакова">
    <meta property="og:site_name" content="Спортивные карты: ориентирование и рогейн">
    <meta property="og:url" content="https://o-maps.spb.ru/">
    <meta property="og:description" content="Страница памяти Константина Токмакова.">
    <meta property="og:image" content="https://o-maps.spb.ru/o-maps-preview-25.jpg">

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
            k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(99914151, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/99914151" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
</head>
<body class="index-body help-body">
    <h1 class="text-center"> <a href="./index.html" target="_self" title="Главная страница">O-maps ◪</a></h1>
    <h2 class="text-center" id="start_name"></h2>

    <div class="container">
        <section id="start_info" class="clearfix"><img class="help-figure help-figure-left" /><span /></section>

        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="maps-tab" data-bs-toggle="tab" data-bs-target="#maps" type="button" role="tab" aria-controls="maps" aria-selected="true">Карты</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="fotos-tab" data-bs-toggle="tab" data-bs-target="#fotos" type="button" role="tab" aria-controls="fotos" aria-selected="false">Фотографии</button>
            </li>
        </ul>
        <div class="tab-content" id="myTabContent">
            <div class="tab-pane fade show active" id="maps" role="tabpanel" aria-labelledby="maps-tab">
                <section><small>Пожалуйста, если у Вас есть карты авторства Константина Токмакова, которых тут нет, сообщите мне. Заранее спасибо!</small></section>
                <div class="start-maps-wrapper"></div>
            </div>
            <div class="tab-pane fade" id="fotos" role="tabpanel" aria-labelledby="fotos-tab">
                <section><img class="help-figure" src="foto/tokma/tokma_13.jpg" /></section>
<!--                <section><img class="help-figure" src="foto/tokma/tokma_14.jpg" /></section>-->
                <section><img class="help-figure" src="foto/tokma/tokma_15.jpg" /></section>
<!--                <section><img class="help-figure" src="foto/tokma/tokma_16.jpg" /></section>-->
                <section><img class="help-figure" src="foto/tokma/tokma_25.jpg" id="tokma_25" /><p><label for="tokma_25">2024</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_24.jpg" id="tokma_24" /><p><label for="tokma_24">2024</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_26.jpg" id="tokma_26" /><p><label for="tokma_26">2023</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_27.jpg" id="tokma_27" /><p><label for="tokma_27">2023</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_17.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_18.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_19.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_20.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_22.jpg" id="tokma_22" /><p><label for="tokma_22">Матч химиков, Беларусь (Малые Лётцы).</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_21.jpg" id="tokma_21" /><p><label for="tokma_21">Новогодняя эстафета, 2019 г (но это не точно).</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_23.jpg" id="tokma_23" /><p><label for="tokma_23">Новогодняя эстафета, 2019 г (но это не точно).</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_29.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_30.jpeg" /></section>, г.
                <section><img class="help-figure" src="foto/tokma/tokma_31.jpeg" id="tokma_31" /><p><label for="tokma_31">Владивосток, Токаревский маяк. Ноябрь 2024.</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_32.jpeg" id="tokma_32" /><p><label for="tokma_32">Владивосток, ноябрь 2024.</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_33.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_34.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_35.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_36.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_37.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_38.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_39.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_40.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_41.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_42.jpeg" /></section>
<!--                <section><img class="help-figure" src="foto/tokma/tokma_43.jpeg" /></section>-->
<!--                <section><img class="help-figure" src="foto/tokma/tokma_44.jpeg" /></section>-->
                <section><img class="help-figure" src="foto/tokma/tokma_45.jpeg" /></section>
<!--                <section><img class="help-figure" src="foto/tokma/tokma_46.jpeg" /></section>-->
                <section><img class="help-figure" src="foto/tokma/tokma_47.jpeg" /></section>
<!--                <section><img class="help-figure" src="foto/tokma/tokma_48.jpeg" /></section>-->
                <section><img class="help-figure" src="foto/tokma/tokma_49.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_50.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_51.jpeg" /></section>
<!--                <section><img class="help-figure" src="foto/tokma/tokma_52.jpeg" /></section>-->
<!--                <section><img class="help-figure" src="foto/tokma/tokma_53.jpeg" /></section>-->
                <section><img class="help-figure" src="foto/tokma/tokma_54.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_55.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_56.jpeg" /></section>
<!--                <section><img class="help-figure" src="foto/tokma/tokma_57.jpeg" /></section>-->
                <section><img class="help-figure" src="foto/tokma/tokma_58.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_59.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_60.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_61.jpeg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_11.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_12.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_08.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_07.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_06.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_10.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_03.jpg" id="tokma_03" /><p><label for="tokma_03">Чемпионат Санкт-Петербурга 1996 г.</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_05.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_01.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_04.jpg" /></section>
                <section><img class="help-figure" src="foto/tokma/tokma_09.jpg" id="tokma_09" /><p><label for="tokma_09">Команда "Динамо" (тренеры: Волков Андрей Владимирович и Соловьёва Александра Владимировна), 1996 г.</label></section>
                <section><img class="help-figure" src="foto/tokma/tokma_28.jpg" id="tokma_28" /><p><label for="tokma_28">Выездная тренировка с первым тренером Амосовой Валентиной (крайняя слева).</label></section>
            </div>
        </div>
    </div>

    <script src="js/ext/leaflet.js"></script>
    <script src="js/ext/Leaflet.ImageOverlay.Rotated.js"></script>
    <script src="js/ext/GeometryUtil.js"></script>

    <script src="js/maps-starts-schools.js"></script>
    <script src="js/maps-city.js"></script>
    <script src="js/maps-parks.js"></script>
    <script src="js/maps-forest.js"></script>
    <script src="js/maps-forest-vsevolozhsk.js"></script>
    <script src="js/maps-forest-south.js"></script>
    <script src="js/maps-forest-priozersk.js"></script>
    <script src="js/maps-forest-zelik.js"></script>
    <script src="js/maps-forest-toksovo.js"></script>
    <script src="js/maps-forest-sosnovo.js"></script>
    <script src="js/maps-forest-michura.js"></script>
    <script src="js/maps-forest-vaskelovo.js"></script>
    <script src="js/maps-forest-vyborg.js"></script>
    <script src="js/maps-special.js"></script>
    <script src="js/maps-fun.js"></script>
    <script src="js/maps-rogaine.js"></script>
    <script src="js/maps-rogaine-beketov.js"></script>
    <script src="js/maps-rogaine-kkm.js"></script>
    <script src="js/maps-rogaine-rfar.js"></script>
    <script src="js/maps-moscow.js"></script>
    <script src="js/maps-other.js"></script>
    <script src="js/maps-starts-mms.js"></script>
    <script src="js/maps-starts-wn.js"></script>
    <script src="js/maps-starts-ym.js"></script>
    <script src="js/maps-starts-na.js"></script>
    <script src="js/maps-starts-ks.js"></script>
    <script src="js/maps-starts-psk.js"></script>
    <script src="js/maps-starts-volkov.js"></script>
    <script src="js/maps-starts-kkp.js"></script>
    <script src="js/maps-starts-gs.js"></script>

    <script src="js/starts.js"></script>
    <script src="js/authors.js"></script>
    <script src="js/owners.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/utils-common.js"></script>

    <script>
        let loadImagesRequired = false;

        let oMaps = [
            ...gsStartsMaps,
            ...volkovStartsMaps,
            ...pskStartsMaps,
            ...ymStartsMaps,
            ...ksStartsMaps,
            ...kkpStartsMaps,
            ...mmsStartsMaps,
            ...wnStartsMaps,
            ...naStartsMaps,
            ...otherMaps,
            ...moscowMaps,
            ...rogaineRfarMaps,
            ...rogaineBeketovMaps,
            ...rogaineKkmMaps,
            ...rogaineMaps,
            ...funMaps,
            ...specialMaps,
            ...forestMaps,
            ...vsevolozhskMaps,
            ...southMaps,
            ...priozerskMaps,
            ...zelikMaps,
            ...vyborgMaps,
            ...sosnovoMaps,
            ...michuraMaps,
            ...vaskelovoMaps,
            ...toksovoMaps,
            ...parkMaps,
            ...cityMaps,
            ...schoolMaps,
        ];
    </script>

    <script src="js/map-build.js"></script>
    <script>
        AUTHOR_PARAM = 'TKMKV_K';
    </script>
    <script src="js/main.js"></script>
    <script>

        // Фильтрация массива. Оставляем только карты нужного старта.
        oMaps = oMaps.filter(m => (m.layer !== undefined));
        oMaps.sort((b, a) => ((b.startYear || (b.year || 9999)) - (a.startYear || (a.year || 9999))));

        let authorObj = authors[AUTHOR_PARAM];
        if (authorObj) {
            document.getElementById('start_name').innerHTML = authorObj.name;
            if (authorObj.info) {
                document.getElementById('start_info').style.display = 'block';
                document.querySelector('#start_info span').innerHTML = authorObj.info;

                if (authorObj.foto) {
                    let logo = document.querySelector('#start_info img');
                    logo.style.display = 'block';
                    logo.src = './foto/' + authorObj.foto;
                }
            }
        }

        let container = document.querySelector('.start-maps-wrapper');
        oMaps.forEach(m => {
            let row = `
                    <div class="start-map-box align-items-center d-flex justify-content-center">
                        <a href="#map_link" target="_self"><img src="#map_img_src" title="#map_year#map_place#map_start#map_info"/></a>
                    </div>
            `;
            row = row.replace('#map_img_src', m.url);
            row = row.replace('#map_href', m.link);
            row = row.replace('#map_link', 'map-info.html?map=' + extractFileName(m.url));
            let year = m.startYear ? m.startYear : m.year;
            row = row.replace('#map_year', year ? year + ' - ' : '');
            row = row.replace('#map_month', m.month);
            row = row.replace('#map_place', m.name);
            let strt;
            if (m.start) {
                if (Array.isArray(m.start)) {
                    strt = clean(starts[m.start[0]].name);
                } else {
                    strt = clean(starts[m.start].name);
                }
            }
            row = row.replace('#map_start', strt ? '\n' + strt + '. ' : '');
            row = row.replace('#map_info', m.info ? (strt ? '' : '\n') + strip(m.info) : '');
            const elRow = document.createElement("div");
            elRow.classList.add("row");
            elRow.innerHTML = row;
            container.appendChild(elRow);
        });
    </script>

    <script src="js/ext/bootstrap.min.js"></script>
</body>
</html>
